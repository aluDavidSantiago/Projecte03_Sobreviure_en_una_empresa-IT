# 3. Tareas de Implementación y Configuración del Servidor LDAP

La Consultora **EverPia** debe cumplir estrictamente con las siguientes tareas de instalación y configuración:

## 3.1. Instalación y Configuración Base de OpenLDAP

| **ID**       | **Descripción de la Tarea**                         | **Detalles de la Configuración**                                                                |
|--------------|------------------------------------------------------|------------------------------------------------------------------------------------------------|
| T.LDAP.01    | Instalación del servicio OpenLDAP.                   | Se debe mostrar el resultado del comando `slapcat` para validar la instalación base.            |
| T.LDAP.02    | Configuración de la base de datos.                   | Nombre del Dominio: `innovatechXX.test`                                                         |
| T.LDAP.03    | Configuración de la contraseña de administrador.     | Contraseña: `p@ssw0rd`                                                                          |
| T.LDAP.04    | Creación de Unidades Organizativas (OU) iniciales.   | Se deben crear dos OUs: `users` y `groups` mediante un archivo `.ldif`.                         |
| T.LDAP.05    | Validación de las Unidades Organizativas.            | Realizar una consulta con `ldapsearch` que muestre todas las OUs creadas en el directorio.       |

---

## Paso 1: Instalación del servicio OpenLDAP

### Introducción
En este paso instalaremos el **servicio OpenLDAP** en el servidor. Este servicio será la base para la autenticación centralizada y la gestión del directorio dentro del dominio `innovatech10.test`.

---

### Pasos detallados

1. Actualizar los repositorios
Antes de instalar, actualizamos los paquetes del sistema:
```
sudo apt update && sudo apt upgrade -y
```
2. Instalar OpenLDAP y utilidades
Instalamos el servidor LDAP y las herramientas necesarias:
```
sudo apt install slapd ldap-utils -y
```
Durante la instalación, se solicitará:

Contraseña del administrador LDAP (guárdala para los siguientes pasos).
Confirmar la configuración básica del servicio.

3. Reconfigurar el servicio (opcional)
Si necesitas ajustar el dominio o la contraseña del administrador:
```
sudo dpkg-reconfigure slapd
```
Aquí podrás definir:

Dominio base: `innovatech10.test`
Organización: `innovatech10`
Contraseña del administrador LDAP: `p@ssw0rd`

4. Verificar la instalación y estructura del directorio
Para comprobar que el directorio se ha creado correctamente:
```
sudo slapcat
```
Salida esperada:

<img src="img/1.png" alt="Ordenador HP" width="400" height="auto"> 

### Notas importantes

- El comando slapcat muestra el contenido del directorio LDAP en formato LDIF.
- Verifica que el dn (Distinguished Name) coincide con el dominio configurado (dc=innovatech10,dc=test).
- Si la estructura no aparece como esperabas, revisa la configuración con dpkg-reconfigure slapd.







---

## 3.2. Gestión y Administración (LAM)

| **ID**       | **Descripción de la Tarea**                         | **Detalles de la Configuración**                                                                |
|--------------|------------------------------------------------------|------------------------------------------------------------------------------------------------|
| T.LAM.01     | Instalación del Gestor de Usuarios LDAP (LAM).       | Se debe documentar el comando de instalación.                                                   |
| T.LAM.02     | Acceso Remoto y Configuración.                       | Conectar a LAM desde la máquina física utilizando la dirección IP de la interfaz Host-Only.     |
| T.LAM.03     | Configuración por defecto.                           | Establecer la configuración predeterminada para que los nuevos usuarios se ubiquen en la OU `users` y los nuevos grupos en la OU `groups`. |
| T.LAM.04     | Creación de Grupos.                                  | Crear dos grupos de seguridad en el directorio: `tech` y `manager`.                             |
| T.LAM.05     | Creación de Usuarios de Prueba.                      | Crear un usuario para cada grupo: `tech01` (miembro de `tech`) y `manager01` (miembro de `manager`). |
